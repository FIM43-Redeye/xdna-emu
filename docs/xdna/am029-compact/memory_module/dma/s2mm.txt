# MEMORY_MODULE / DMA/S2MM
# 10 register(s)
#
# Format: NAME @ OFFSET [WIDTH TYPE reset=VALUE] "DESCRIPTION"
#   BITS    FIELD_NAME                   TYPE  "DESCRIPTION"

DMA_S2MM_0_Ctrl @ 0x000001DE00 [32 rw reset=1] "DMA Control Register S2MM Ch0"
  17:16   FoT_Mode                     rw  "Finish on TLAST mode. 00 = FoT_disabled; 01 = FoT_no_counts; 10 = FoT_counts_with_task_tokens; 11 = FoT_counts_from_mm_register"
  15:8    Controller_ID                rw  "Task-complete-token controller ID field"
  4       Decompression_Enable         rw  "Enable decompression. 0=no decompression; 1=decompression may be enabled by BD"
  3       Enable_Out_of_Order          rw  "Enable out-of-order mode. 0=in-order mode"
  1       Reset                        rw  "Reset S2MM0"

DMA_S2MM_0_Start_Queue @ 0x000001DE04 [32 wo] "DMA Control Register S2MM Ch0"
  31      Enable_Token_Issue           wo  "Issue a token when this task is complete"
  23:16   Repeat_Count                 wo  "Repeat this task this many times (actual-1); Range [1:256]"
  3:0     Start_BD_ID                  wo  "First BD for this task (in-order-mode only)"

DMA_S2MM_1_Ctrl @ 0x000001DE08 [32 rw reset=1] "DMA Control Register S2MM Ch1"
  17:16   FoT_Mode                     rw  "Finish on TLAST mode. 00 = FoT_disabled; 01 = FoT_no_counts; 10 = FoT_counts_with_task_tokens; 11 = FoT_counts_from_mm_register"
  15:8    Controller_ID                rw  "Task-complete-token controller ID field"
  4       Decompression_Enable         rw  "Enable decompression. 0=no decompression; 1=decompression may be enabled by BD"
  3       Enable_Out_of_Order          rw  "Enable out-of-order mode. 0=in-order mode"
  1       Reset                        rw  "Reset S2MM0"

DMA_S2MM_1_Start_Queue @ 0x000001DE0C [32 wo] "DMA Control Register S2MM Ch1"
  31      Enable_Token_Issue           wo  "Issue a token when this task is complete"
  23:16   Repeat_Count                 wo  "Repeat this task this many times (actual-1); Range [1:256]"
  3:0     Start_BD_ID                  wo  "First BD for this task (in-order-mode only)"

DMA_S2MM_Status_0 @ 0x000001DF00 [32 mixed] "DMA S2MM Status Register Ch0"
  27:24   Cur_BD                       ro  "Current BD channel is operating on"
  22:20   Task_Queue_Size              ro  "Current number of tasks in queue"
  19      Channel_Running              ro  "0=channel data path idle AND queue empty; 1=channel operating on a transfer OR queue not empty"
  18      Task_Queue_Overflow          wtc  "Attempt to write to full task queue, channel 0. Sticky bit, write to clear"
  13      Error_FoT_BDs_per_Task       ro  "Error: Channel in FoT_counts_with_task_tokens mode and too many BD calls in one task. The count FIFO is full"
  12      Error_FoT_Length_Exceeded    ro  "Error: Channel in FoT mode, Buffer_Length words received but no TLAST received"
  11      Error_BD_Invalid             ro  "Error: BD loaded by channel has valid bit not set."
  10      Error_BD_Unavailable         ro  "Error: Channel attempted to load an invalid BD ID (out-of-order mode)"
  5       Stalled_TCT_or_Count_FIFO_Full ro  "Channel stalled due to task complete token backpressure or Finish on TLAST count backpressure"
  4       Stalled_Stream_Starvation    ro  "Channel stalled on stream access"
  3       Stalled_Lock_Rel             ro  "Channel stalled while requesting lock release"
  2       Stalled_Lock_Acq             ro  "Channel stalled while requesting lock acquire"
  1:0     Status                       ro  "Channel control state machine status. Encoding is: 00=IDLE, 01=STARTING, 10=RUNNING"

DMA_S2MM_Status_1 @ 0x000001DF04 [32 mixed] "DMA S2MM Status Register Ch1"
  27:24   Cur_BD                       ro  "Current BD channel is operating on"
  22:20   Task_Queue_Size              ro  "Current number of tasks in queue"
  19      Channel_Running              ro  "0=channel data path idle AND queue empty; 1=channel operating on a transfer OR queue not empty"
  18      Task_Queue_Overflow          wtc  "Attempt to write to full task queue, channel 0. Sticky bit, write to clear"
  13      Error_FoT_BDs_per_Task       ro  "Error: Channel in FoT_counts_with_task_tokens mode and too many BD calls in one task. The count FIFO is full"
  12      Error_FoT_Length_Exceeded    ro  "Error: Channel in FoT mode, Buffer_Length words received but no TLAST received"
  11      Error_BD_Invalid             ro  "Error: BD loaded by channel has valid bit not set."
  10      Error_BD_Unavailable         ro  "Error: Channel attempted to load an invalid BD ID (out-of-order mode)"
  5       Stalled_TCT_or_Count_FIFO_Full ro  "Channel stalled due to task complete token backpressure or Finish on TLAST count backpressure"
  4       Stalled_Stream_Starvation    ro  "Channel stalled on stream access"
  3       Stalled_Lock_Rel             ro  "Channel stalled while requesting lock release"
  2       Stalled_Lock_Acq             ro  "Channel stalled while requesting lock acquire"
  1:0     Status                       ro  "Channel control state machine status. Encoding is: 00=IDLE, 01=STARTING, 10=RUNNING"

DMA_S2MM_Current_Write_Count_0 @ 0x000001DF18 [32 ro] "DMA S2MM Current Write Count Ch0"
  13:0    Current_Write_Count          ro  "Current count of 32-bit words processed by this channel in current transfer"

DMA_S2MM_Current_Write_Count_1 @ 0x000001DF1C [32 ro] "DMA S2MM Current Write Count Ch1"
  13:0    Current_Write_Count          ro  "Current count of 32-bit words processed by this channel in current transfer"

DMA_S2MM_FoT_Count_FIFO_Pop_0 @ 0x000001DF20 [32 ro] "DMA S2MM FoT Count FIFO Pop Ch0"
  31      Valid                        ro  "0: channel not in FoT_counts_from_mm_register mode OR FIFO is empty; 1: this read has valid data"
  30      Last_in_Task                 ro  "Set if this is the last transfer in this task"
  29:24   BD_ID                        ro  "The BD used in this transfer"
  17:0    Write_Count                  ro  "Number of words (32-bit) written to memory this transfer"

DMA_S2MM_FoT_Count_FIFO_Pop_1 @ 0x000001DF24 [32 ro] "DMA S2MM FoT Count FIFO Pop Ch1"
  31      Valid                        ro  "0: channel not in FoT_counts_from_mm_register mode OR FIFO is empty; 1: this read has valid data"
  30      Last_in_Task                 ro  "Set if this is the last transfer in this task"
  29:24   BD_ID                        ro  "The BD used in this transfer"
  17:0    Write_Count                  ro  "Number of words (32-bit) written to memory this transfer"
